device_type = mcdivitt
hostname = mcdivitt-01
hard_reset_command = /usr/local/lab-scripts/hpilo_hard_reset_node.sh c1n1
#power_off_cmd = /usr/local/lab-scripts/hpilo_power_off_node.exp c1n1
power_on_cmd = /usr/local/lab-scripts/hpilo_power_on_node.exp c1n1
connection_command = /usr/local/lab-scripts/hpilo_connect_to_console.exp c1n1
pre_boot_cmd = setenv gatewayip 192.168.1.1
uimage_only = True
send_char = False

u_load_addrs =
    0x00080000
    0x4005000000
    0x4003000000

boot_cmds_ramdisk =
    setenv autoload no,
    setenv kernel_addr_r "'0x4002000000'",
    setenv initrd_addr_r "'{RAMDISK_ADDR}'",
    setenv loadkernel "'tftp ${kernel_addr_r} {KERNEL}'",
    setenv loadinitrd "'tftp ${initrd_addr_r} {RAMDISK}'",
    setenv bootargs "'root=/dev/ram0 rw console=ttyS0,115200 earlyprintk=uart8250-32bit,0x1c021000 debug maxcpus=8 swiotlb=65536 ip=dhcp'",
    setenv bootcmd "'dhcp; setenv serverip {SERVER_IP}; run loadkernel; run loadinitrd; bootm ${kernel_addr_r} ${initrd_addr_r} ${fdt_addr_r}'",
    boot
